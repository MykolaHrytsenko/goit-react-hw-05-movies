"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[964],{964:function(t,e,n){n.r(e),n.d(e,{default:function(){return p}});var r=n(982),o=n(885),i=n(791),c=n(501),a=n(871),u={title:"Movies_title__MDLXB",list:"Movies_list__hqYjd",link:"Movies_link__MzAfU",img:"Movies_img__8sw1H",movie_title:"Movies_movie_title__b5mVx"},s=n(565),f="SearchForm_form__o80os",l="SearchForm_input__HOxJo",m="SearchForm_button__UXY06",h=n(184);var _=function(t){var e=t.onSubmit,n=t.query,r=(0,i.useState)(n||""),c=(0,o.Z)(r,2),a=c[0],u=c[1];return(0,h.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!==a.trim()&&e(a)},className:f,children:[(0,h.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:a,onChange:function(t){u(t.currentTarget.value.toLowerCase())},className:l}),(0,h.jsx)("button",{type:"submit",className:m,children:(0,h.jsx)("span",{children:"Search"})})]})};var p=function(){var t=(0,c.lr)(),e=(0,o.Z)(t,2),n=e[0],f=e[1],l=(0,i.useState)([]),m=(0,o.Z)(l,2),p=m[0],v=m[1],d=n.get("query"),y=(0,a.TH)();return(0,i.useEffect)((function(){d&&s.V0(d).then((function(t){v((0,r.Z)(t.results))}))}),[d]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(_,{onSubmit:function(t){d!==t&&(v([]),f({query:"".concat(t)}))},query:d}),p&&(0,h.jsx)("ul",{className:u.list,children:p.map((function(t){return(0,h.jsx)("li",{className:u.link,children:(0,h.jsxs)(c.OL,{to:"".concat(t.id),state:{from:y},className:u.movie_title,children:[(0,h.jsx)("img",{src:"https://image.tmdb.org/t/p/w300"+t.poster_path,alt:t.original_title,className:u.img}),(0,h.jsxs)("p",{className:u.movie_titleaa,children:[" ",t.original_title]})]})},t.id)}))})]})}},565:function(t,e,n){n.d(e,{Hg:function(){return i},TP:function(){return a},V0:function(){return c},tx:function(){return s},zv:function(){return u}});var r="221de49ae912fc3b0caf9f1af19aa124",o="https://api.themoviedb.org/3";function i(){return fetch("".concat(o,"/trending/movie/day?api_key=").concat(r)).then((function(t){if(t.ok)return t.json()}))}function c(t){return fetch("".concat(o,"/search/movie?api_key=").concat(r,"&query=").concat(t)).then((function(t){if(t.ok)return t.json()}))}function a(t){return fetch("".concat(o,"/movie/").concat(t,"?api_key=").concat(r)).then((function(t){if(t.ok)return t.json()}))}function u(t){return fetch("".concat(o,"/movie/").concat(t,"/credits?api_key=").concat(r)).then((function(t){if(t.ok)return t.json()}))}function s(t){return fetch("".concat(o,"/movie/").concat(t,"/reviews?api_key=").concat(r)).then((function(t){if(t.ok)return t.json()}))}},982:function(t,e,n){n.d(e,{Z:function(){return i}});var r=n(907);var o=n(181);function i(t){return function(t){if(Array.isArray(t))return(0,r.Z)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||(0,o.Z)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=964.64f5433d.chunk.js.map